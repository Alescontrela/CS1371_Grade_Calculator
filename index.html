<!DOCTYPE html>
<html>
<style>
  body {
    font-family: 'Roboto', sans-serif;
    background: url("https://www.toptal.com/designers/subtlepatterns/patterns/funky-lines.png");
  }

  /* Grow */
  .hvr-grow {
    display: inline-block;
    vertical-align: middle;
    -webkit-transform: perspective(1px) translateZ(0);
    transform: perspective(1px) translateZ(0);
    box-shadow: 0 0 1px rgba(0, 0, 0, 0);
    -webkit-transition-duration: 0.3s;
    transition-duration: 0.3s;
    -webkit-transition-property: transform;
    transition-property: transform;
  }
  .hvr-grow:hover, .hvr-grow:focus, .hvr-grow:active {
    -webkit-transform: scale(1.1);
    transform: scale(1.1);
  }

  .col-centered{
    float: none;
    margin: 0 auto;
  }

  .welcome{
    padding-top: 2em;
  }

  table {
    border-collapse: collapse;
    border-radius: 1em;
    overflow: hidden;
  }

  .card {
    width: 100%;
  }

  .footer {
   position: fixed;
   left: 0;
   bottom: 0;
   width: 100%;
   background-color: #e9ecef;
   color: white;
   text-align: center;
   border-collapse: collapse;
   border-radius: 1em;
   overflow: hidden;
}

  .footer_text {
    margin-top: 1em;
  }

  p.footer_text {
    font-size: 1.2em;
    color: black;
  }

  a:link {
    text-decoration: none !important;
  }

  .submit_button {
    background-color: #c3e6cb !important;
  }



</style>

<head>
  <title>Grade Calc</title>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>

  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
</head>

<body>
  <nav class="navbar navbar-light bg-light">
    <span class="navbar-brand mb-0 h1"> Grade Calculator by Alejandro Escontrela </span>
  </nav>
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-8 welcome col-centered">
        <div class="jumbotron">
          <h1 class="display-3">Hello!</h1>
          <p class="lead">Use this website to calculate the grade you need to <em>not fail</em> CS1371, or any of your other classes!</p>
          <hr class="my-4">
          <p>Enter the weight for the following categories, along with your score for each category and press submit to see what grade you need to get on your final.</p>
          </br>
          <p><b>Note:</b>
            <ul>
              <li>Scores can be entered as a comma-separated list of values, whose average will be taken and used as your score for that category.</li>
              <li>Extra credit should be a single value representing received extra credit for the class</li>
            </ul>
          </p>

        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-3">
        <div class="card">
          <img class="card-img-top" src="images/scheller.jpg" alt="Card image cap">
          <div class="card-body">
            <h5 class="card-title">Reconsidering your life?</h5>
            <p class="card-text">Make pain a thing of the past and try the Scheller College of Business! </p>
            <a href="https://www.scheller.gatech.edu/index.html" target = "blank" class="btn btn-primary">Link</a>
          </div>
        </div>
      </div>
      <div class="col-md-6 text-center">
        <form id="frm1" >
          <table class="table table-striped">
            <thead class="thead-dark">
              <tr>
                <th scope = "col">Category</th>
                <th scope = "col">Weight (%)</th>
                <th scope = "col">Score(s)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope = "row">Tests</th>
                <td><input type="number" name="test_weight" class="form-control"></td>
                <td><input type="text" name="test_score" class="form-control"></td>
              </tr>
              <tr>
                <th scope = "row">Homework</th>
                <td><input type="number" name="homework_weight" class="form-control"></td>
                <td><input type="text" name="homework_score" class="form-control"></td>
              </tr>
              <tr>
                <th scope = "row">Quizzes</th>
                <td><input type="number" name="quiz_weight" class="form-control"></td>
                <td><input type="text" name="quiz_score" class="form-control"></td>
              </tr>
              <tr>
                <th scope = "row">Participation</th>
                <td><input type="number" name="participation_weight" class="form-control"></td>
                <td><input type="text" name="participation_score" class="form-control"></td>
              </tr>
              <tr>
                <th scope = "row">Extra Credit</th>
                <td></td>
                <td><input type="number" name="ec_score" class="form-control"></td>
              </tr>
              <tr>
                <th scope = "row">Final</th>
                <td><input type="number" name="final_weight" class="form-control"></td>
                <td></td>
              </tr>
            </tbody>
          </table>
          <table class="table table-striped">
            <thead class="thead-light">
              <tr>
                <th scope = "col">Desired Grade</th>
                <th scope = "col">Required Final Grade</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><input type="number" name="desired_grade" class="form-control"></td>
                <td><h3 id="demo"></h3></td>
              </tr>
            </tbody>
          </table>
          <table class="table table-success">

            <tbody>
              <tr>
                <td><button class="submit_button hvr-grow" type = "button" onclick="myFunction()">Calculate</button></td>
              </tr>
            </tbody>
          </table>
        </form>
      </div>
      <div class="col-md-3">
        <div class="card">
          <iframe class="card-img-top" src="https://giphy.com/embed/xT1Ra6gsLRINatl3s4" width="480" height="360" frameBorder="0"  allowFullScreen></iframe>

        </div>
      </div>
    </div>
  </div>
  <div class="footer">
    <p class="footer_text">This project is intended to serve as my submission for the CS1371 Final Project. Feel free to check out the source on <a target = "blank" href="https://github.com/Alescontrela/CS1371_Grade_Calculator">my github</a>.</p>
  </div>
  <script>
    function myFunction() {
        var x = document.getElementById("frm1");
        var sum = 0;
        var i;

        var test_weight =  Number(x.elements[0].value);
        var homework_weight = Number(x.elements[2].value);
        var quiz_weight = Number(x.elements[4].value);
        var participation_weight = Number(x.elements[6].value);
        var final_weight = Number(x.elements[9].value);
        var desired_final = Number(x.elements[10].value)
        console.log(x.elements[10].value);
        var sum_weights = test_weight + homework_weight + quiz_weight + participation_weight + final_weight;



        if(sum_weights != 100 || x.elements[10].value == ""){
          alert("Please enter class weights that sum to 100% and a desired final grade! Your current weights sum up to " + String(sum_weights) + "%")
        } else {
          /* Calculate Test raw score from comma-separated input */
          test_scores = x.elements[1].value;
          console.log("raw test scores" + test_scores);
          var sumOfNums = 0;
          var nums = test_scores.split(",");
          for (var i = 0; i < nums.length; i++) {
            sumOfNums += parseInt(nums[i]);
          }
          test_raw = sumOfNums/nums.length;
          console.log("test_raw: " + String(test_raw));
          test_raw = test_raw * (test_weight/100);
          console.log("test_raw weighted: " + String(test_raw));

          /* Calculate homework raw score from comma-separated input */
          homework_scores = x.elements[3].value;
          console.log("raw homework scores" + homework_scores);
          var sumOfNums = 0;
          var nums = homework_scores.split(",");
          for (var i = 0; i < nums.length; i++) {
            sumOfNums += parseInt(nums[i]);
          }
          homework_raw = sumOfNums/nums.length;
          console.log("homework_raw: " + String(homework_raw));
          homework_raw = homework_raw * (homework_weight/100);
          console.log("homework_raw weighted: " + String(homework_raw));

          /* Calculate quiz raw score from comma-separated input */
          quiz_scores = x.elements[5].value;
          console.log("raw quiz scores" + quiz_scores);
          var sumOfNums = 0;
          var nums = quiz_scores.split(",");
          for (var i = 0; i < nums.length; i++) {
            sumOfNums += parseInt(nums[i]);
          }
          quiz_raw = sumOfNums/nums.length;
          console.log("quiz_raw: " + String(quiz_raw));
          quiz_raw = quiz_raw * (quiz_weight/100);
          console.log("quiz_raw weighted: " + String(quiz_raw));

          /* Calculate participation raw score from comma-separated input */
          participation_scores = x.elements[7].value;
          console.log("raw participation scores" + participation_scores);
          var sumOfNums = 0;
          var nums = participation_scores.split(",");
          for (var i = 0; i < nums.length; i++) {
            sumOfNums += parseInt(nums[i]);
          }
          participation_raw = sumOfNums/nums.length;
          console.log("participation_raw: " + String(participation_raw));
          participation_raw = participation_raw * (participation_weight/100);
          console.log("participation_raw weighted: " + String(participation_raw));

          extra_credit = Number(x.elements[8].value)





          score_needed = (desired_final - extra_credit - test_raw - homework_raw - quiz_raw - participation_raw)/(final_weight/100)

          document.getElementById("demo").innerHTML = score_needed;
        }


    }
  </script>
</body>

</html>
